// Admin Faction Settings Page
// Matches normal faction_settings.ui boxed layout with admin-specific controls
// Two-column layout: General/Recruitment/Home/Danger | Appearance/Permissions/Settings

$C = "../../Common.ui";
$S = "../shared/styles.ui";
$Nav = "admin_nav_bar.ui";

$C.@PageOverlay {
  $Nav.@HyperFactionsAdminNavBar #HyperFactionsAdminNavBar {}

  $C.@DecoratedContainer {
    Anchor: (Width: 720, Height: 780);

    #Title {
      Group {
        $C.@Title {
          @Text = "Admin: Faction Settings";
        }
      }
    }

    #Content {
      LayoutMode: Top;
      Padding: (Left: 15, Right: 15, Top: 10, Bottom: 10);

      // === Header Section ===
      Group #HeaderSection {
        Anchor: (Height: 32, Bottom: 8);
        LayoutMode: Left;

        Label {
          Text: "Editing:";
          Style: (FontSize: 13, TextColor: #AAAAAA, VerticalAlignment: Center);
        }

        Label { Anchor: (Width: 8); }

        Label #FactionName {
          Text: "Faction Name";
          Style: (FontSize: 15, TextColor: #00FFFF, RenderBold: true, VerticalAlignment: Center);
        }

        Label { FlexWeight: 1; }

        Label {
          Text: "[Admin Override]";
          Style: (FontSize: 10, TextColor: #FFAA00, VerticalAlignment: Center);
        }
      }

      // Cyan divider
      Group {
        Anchor: (Height: 1, Bottom: 10);
        Background: (Color: #00AAAA);
      }

      // === Two Column Layout ===
      Group #TwoColumnContainer {
        LayoutMode: Left;
        FlexWeight: 1;

        // === LEFT COLUMN ===
        Group #LeftColumn {
          Anchor: (Width: 330);
          LayoutMode: TopScrolling;
          ScrollbarStyle: $C.@DefaultScrollbarStyle;
          Padding: (Left: 0, Right: 10, Top: 0, Bottom: 0);

          // --- General ---
          Label {
            Text: "General";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #GeneralBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            // Name row
            Group {
              Anchor: (Height: 32, Bottom: 4);
              LayoutMode: Left;

              Label {
                Text: "Name:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 70);
              }
              Label #NameValue {
                Text: "Faction Name";
                Style: (FontSize: 12, TextColor: #00FFFF, RenderBold: true, VerticalAlignment: Center);
                FlexWeight: 1;
              }
              TextButton #NameEditBtn {
                Text: "Edit";
                Anchor: (Height: 26, Width: 55);
                Style: $S.@ButtonStyle;
              }
            }

            // Tag row
            Group {
              Anchor: (Height: 32, Bottom: 4);
              LayoutMode: Left;

              Label {
                Text: "Tag:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 70);
              }
              Label #TagValue {
                Text: "[Tag]";
                Style: (FontSize: 12, TextColor: #FFAA00, RenderBold: true, VerticalAlignment: Center);
                FlexWeight: 1;
              }
              TextButton #TagEditBtn {
                Text: "Edit";
                Anchor: (Height: 26, Width: 55);
                Style: $S.@ButtonStyle;
              }
            }

            // Description row
            Group {
              Anchor: (Height: 32);
              LayoutMode: Left;

              Label {
                Text: "Description:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 70);
              }
              Label #DescValue {
                Text: "(None)";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                FlexWeight: 1;
              }
              TextButton #DescEditBtn {
                Text: "Edit";
                Anchor: (Height: 26, Width: 55);
                Style: $S.@ButtonStyle;
              }
            }
          }

          // --- Recruitment ---
          Label {
            Text: "Recruitment";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #RecruitmentBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            Group {
              Anchor: (Height: 32);
              LayoutMode: Left;

              Label {
                Text: "Status:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 70);
              }

              DropdownBox #RecruitmentDropdown {
                Style: $C.@DefaultDropdownBoxStyle;
                Anchor: (Height: 28, Width: 160);
              }
            }
          }

          // --- Home Location ---
          Label {
            Text: "Home Location";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #HomeBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            Group {
              Anchor: (Height: 28, Bottom: 4);
              LayoutMode: Left;

              Label {
                Text: "Location:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 70);
              }
              Label #HomeLocation {
                Text: "Not set";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                FlexWeight: 1;
              }
            }

            Group {
              Anchor: (Height: 32);
              LayoutMode: Left;

              TextButton #ClearHomeBtn {
                Text: "Clear Home";
                Anchor: (Height: 26, Width: 100);
                Style: $S.@RedButtonStyle;
              }
            }
          }

          // --- Danger Zone (always visible for admin) ---
          Group #DangerZone {
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            Label {
              Text: "Danger Zone";
              Style: (FontSize: 11, TextColor: #FF5555, RenderBold: true);
              Anchor: (Height: 18, Bottom: 4);
            }
            Group {
              Anchor: (Height: 1, Bottom: 8);
              Background: (Color: #553344);
            }

            Group {
              Background: (Color: #2a1a1a);
              Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
              LayoutMode: Top;

              Group {
                Anchor: (Height: 32);
                LayoutMode: Left;

                Label {
                  Text: "This action is irreversible.";
                  Style: (FontSize: 10, TextColor: #AA5555, VerticalAlignment: Center);
                  FlexWeight: 1;
                }

                TextButton #DisbandBtn {
                  Text: "Disband Faction";
                  Anchor: (Height: 28, Width: 140);
                  Style: $S.@FlatRedButtonStyle;
                }
              }
            }
          }
        }

        // Vertical divider
        Group {
          Anchor: (Width: 1);
          Background: (Color: #334455);
        }

        // === RIGHT COLUMN ===
        Group #RightColumn {
          FlexWeight: 1;
          LayoutMode: TopScrolling;
          ScrollbarStyle: $C.@DefaultScrollbarStyle;
          Padding: (Left: 10, Right: 0, Top: 0, Bottom: 0);

          // --- Appearance ---
          Label {
            Text: "Appearance";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #ColorBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            // Color row - preview and hex value
            Group {
              Anchor: (Height: 28, Bottom: 4);
              LayoutMode: Left;

              Label {
                Text: "Color:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 50);
              }

              Group #ColorPreview {
                Anchor: (Width: 22, Height: 22);
                Background: (Color: #00FFFF);
              }

              Label { Anchor: (Width: 8); }

              Label #ColorValue {
                Text: "#00FFFF";
                Style: (FontSize: 12, TextColor: #AAAAAA, VerticalAlignment: Center);
                FlexWeight: 1;
              }
            }

            // Inline ColorPicker
            Group {
              Anchor: (Height: 200);
              Padding: (Left: 50, Right: 0, Top: 0, Bottom: 0);

              ColorPicker #FactionColorPicker {
                DisplayTextField: true;
                Style: $C.@DefaultColorPickerStyle;
              }
            }
          }

          // --- Territory Permissions ---
          Label {
            Text: "Territory Permissions";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #PermissionsBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            // Header row
            Group #HeaderRow {
              LayoutMode: Left;
              Anchor: (Height: 22, Bottom: 4);

              Label { Anchor: (Width: 90); }
              Label {
                Text: "Break";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 55);
              }
              Label {
                Text: "Place";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 55);
              }
              Label {
                Text: "Interact";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 70);
              }
            }

            // Outsiders row
            Group #OutsidersRow {
              LayoutMode: Left;
              Anchor: (Height: 32, Bottom: 3);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Outsiders";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                Anchor: (Width: 84);
              }
              $C.@CheckBoxWithLabel #OutsiderBreakToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 24, Width: 45);
              }
              Group { Anchor: (Width: 10); }
              $C.@CheckBoxWithLabel #OutsiderPlaceToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 24, Width: 45);
              }
              Group { Anchor: (Width: 10); }
              $C.@CheckBoxWithLabel #OutsiderInteractToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 24, Width: 60);
              }
            }

            // Allies row
            Group #AlliesRow {
              LayoutMode: Left;
              Anchor: (Height: 32, Bottom: 3);
              Background: (Color: #111a28);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Allies";
                Style: (FontSize: 11, TextColor: #55FF55, VerticalAlignment: Center);
                Anchor: (Width: 84);
              }
              $C.@CheckBoxWithLabel #AllyBreakToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 24, Width: 45);
              }
              Group { Anchor: (Width: 10); }
              $C.@CheckBoxWithLabel #AllyPlaceToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 24, Width: 45);
              }
              Group { Anchor: (Width: 10); }
              $C.@CheckBoxWithLabel #AllyInteractToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 24, Width: 60);
              }
            }

            // Members row
            Group #MembersRow {
              LayoutMode: Left;
              Anchor: (Height: 32);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Members";
                Style: (FontSize: 11, TextColor: #00FFFF, VerticalAlignment: Center);
                Anchor: (Width: 84);
              }
              $C.@CheckBoxWithLabel #MemberBreakToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 24, Width: 45);
              }
              Group { Anchor: (Width: 10); }
              $C.@CheckBoxWithLabel #MemberPlaceToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 24, Width: 45);
              }
              Group { Anchor: (Width: 10); }
              $C.@CheckBoxWithLabel #MemberInteractToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 24, Width: 60);
              }
            }
          }

          // --- Faction Settings ---
          Label {
            Text: "Faction Settings";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #FactionSettingsBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            // PvP row
            Group #PvPRow {
              LayoutMode: Left;
              Anchor: (Height: 32, Bottom: 3);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "PvP in Territory";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                Anchor: (Width: 130);
              }
              $C.@CheckBoxWithLabel #PvPToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 24, Width: 50);
              }
              Label #PvPStatus {
                Text: "Enabled";
                Style: (FontSize: 10, TextColor: #55FF55, VerticalAlignment: Center);
                FlexWeight: 1;
                Anchor: (Left: 4);
              }
            }

            // Officers can edit row
            Group #OfficerSettingRow {
              LayoutMode: Left;
              Anchor: (Height: 32);
              Background: (Color: #111a28);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Officers can edit";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                Anchor: (Width: 130);
              }
              $C.@CheckBoxWithLabel #OfficersCanEditToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 24, Width: 50);
              }
            }
          }
        }
      }

      // === Footer ===
      Group #Footer {
        Anchor: (Height: 45);
        LayoutMode: Left;

        Label { FlexWeight: 1; }

        TextButton #BackBtn {
          Text: "Back to Info";
          Anchor: (Height: 32, Width: 130);
          Style: $S.@ButtonStyle;
        }
      }
    }
  }
}

$C.@BackButton {}
