// Create Faction Wizard - Step 2: Review & Create
// Shows preview, optional description, and recruitment setting

$C = "../../Common.ui";
$S = "../shared/styles.ui";
$Nav = "../nav/nav_bar.ui";

$C.@PageOverlay {
  $Nav.@HyperFactionsNavBar #HyperFactionsNavBar {}

  $C.@DecoratedContainer {
    Anchor: (Width: 500, Height: 520);

    #Title {
      Group {
        LayoutMode: Left;

        $C.@Title {
          @Text = "Create Your Faction";
        }

        Label {
          Text: "Step 2 of 2";
          Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
          Anchor: (Left: 10);
        }
      }
    }

    #Content {
      LayoutMode: Top;
      Padding: (Left: 20, Right: 20, Top: 15, Bottom: 15);

      // Preview Card
      Group {
        Anchor: (Height: 130, Bottom: 15);
        Background: (Color: #1a2a3a);
        Padding: (Left: 15, Right: 15, Top: 15, Bottom: 15);
        LayoutMode: Top;

        Label {
          Text: "PREVIEW";
          Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
          Anchor: (Height: 15);
        }

        // Divider
        Group {
          Anchor: (Height: 1, Top: 5, Bottom: 8);
          Background: (Color: #333355);
        }

        // Faction name with color
        Group {
          LayoutMode: Left;
          Anchor: (Height: 22);

          Label {
            Text: "Name: ";
            Style: (FontSize: 14, TextColor: #AAAAAA);
          }

          Label #PreviewName {
            Text: "Faction Name [TAG]";
            Style: (FontSize: 14, TextColor: #55FFFF, RenderBold: true);
          }
        }

        // Color (using colored text since Background cannot be set dynamically)
        Group {
          LayoutMode: Left;
          Anchor: (Height: 20);

          Label {
            Text: "Color: ";
            Style: (FontSize: 12, TextColor: #AAAAAA);
          }

          Label #PreviewColor {
            Text: "Cyan";
            Style: (FontSize: 12, TextColor: #55FFFF, RenderBold: true);
          }
        }

        // Leader
        Label #PreviewLeader {
          Text: "Leader: You (PlayerName)";
          Style: (FontSize: 12, TextColor: #888888);
          Anchor: (Height: 18);
        }
      }

      // Description Input
      Group {
        Anchor: (Height: 100, Bottom: 15);
        LayoutMode: Top;

        Label {
          Text: "DESCRIPTION (Optional)";
          Style: (FontSize: 12, TextColor: #00FFFF, RenderBold: true);
          Anchor: (Height: 20);
        }

        $C.@TextField #DescInput {
          Anchor: (Height: 60);
          Style: (
            FontSize: 14,
            TextColor: #ffffff(0.85)
          );
        }
      }

      // Recruitment Setting (styled like recruitment_modal)
      Group {
        Anchor: (Height: 95, Bottom: 15);
        LayoutMode: Top;

        // Header with current selection
        Group {
          LayoutMode: Left;
          Anchor: (Height: 20, Bottom: 8);

          Label {
            Text: "RECRUITMENT";
            Style: (FontSize: 12, TextColor: #00FFFF, RenderBold: true);
          }

          Label { FlexWeight: 1; }

          Label {
            Text: "Current: ";
            Style: (FontSize: 11, TextColor: #888888);
          }

          Label #CurrentRecruitment {
            Text: "Invite Only";
            Style: (FontSize: 11, TextColor: #FFAA00, RenderBold: true);
          }
        }

        // Button row for options (same style as recruitment_modal.ui)
        Group {
          Anchor: (Height: 40);
          LayoutMode: Left;

          TextButton #InviteOnlyBtn {
            Text: "INVITE ONLY";
            Anchor: (Height: 36, Width: 200);
            Style: $S.@GoldButtonStyle;
          }

          Label { FlexWeight: 1; }

          TextButton #OpenBtn {
            Text: "OPEN";
            Anchor: (Height: 36, Width: 200);
            Style: $S.@GreenButtonStyle;
          }
        }
      }

      // Spacer
      Label { FlexWeight: 1; }

      // Action Buttons
      Group {
        Anchor: (Height: 45);
        LayoutMode: Left;

        TextButton #BackBtn {
          Text: "< BACK";
          Anchor: (Height: 40, Width: 120);
          Style: $S.@ButtonStyle;
        }

        Label { FlexWeight: 1; }

        TextButton #CreateBtn {
          Text: "CREATE FACTION";
          Anchor: (Height: 40, Width: 200);
          Style: $S.@GreenButtonStyle;
        }
      }
    }
  }
}

// Native Hytale back button
$C.@BackButton {}
