// Faction Settings Page - Three-Column Layout with Boxed Sections
// Left: General, Recruitment, Home, Modules, Disband
// Middle: Territory Permissions (Building grid + Interaction grid)
// Right: Color, Mob Spawning, Faction Settings (PvP + Officers)

$C = "../../Common.ui";
$S = "../shared/styles.ui";
$Nav = "../nav/nav_bar.ui";

$C.@PageOverlay {
  $Nav.@HyperFactionsNavBar #HyperFactionsNavBar {}

  $C.@DecoratedContainer {
    Anchor: (Width: 1000, Height: 720);

    #Title {
      Group {
        $C.@Title {
          @Text = "Faction Settings";
        }
      }
    }

    #Content {
      LayoutMode: Top;
      Padding: (Left: 15, Right: 15, Top: 10, Bottom: 10);

      // === Three Column Layout ===
      Group #ThreeColumnContainer {
        LayoutMode: Left;
        FlexWeight: 1;

        // === LEFT COLUMN ===
        Group #LeftColumn {
          Anchor: (Width: 280);
          LayoutMode: TopScrolling;
          ScrollbarStyle: $C.@DefaultScrollbarStyle;
          Padding: (Left: 0, Right: 8, Top: 0, Bottom: 0);

          // --- General ---
          Label {
            Text: "General";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #GeneralBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            // Name row
            Group {
              Anchor: (Height: 32, Bottom: 4);
              LayoutMode: Left;

              Label {
                Text: "Name:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 60);
              }
              Label #NameValue {
                Text: "Faction Name";
                Style: (FontSize: 12, TextColor: #00FFFF, RenderBold: true, VerticalAlignment: Center);
                FlexWeight: 1;
              }
              TextButton #NameEditBtn {
                Text: "Edit";
                Anchor: (Height: 26, Width: 50);
                Style: $S.@ButtonStyle;
              }
            }

            // Tag row
            Group {
              Anchor: (Height: 32, Bottom: 4);
              LayoutMode: Left;

              Label {
                Text: "Tag:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 60);
              }
              Label #TagValue {
                Text: "[Tag]";
                Style: (FontSize: 12, TextColor: #FFAA00, RenderBold: true, VerticalAlignment: Center);
                FlexWeight: 1;
              }
              TextButton #TagEditBtn {
                Text: "Edit";
                Anchor: (Height: 26, Width: 50);
                Style: $S.@ButtonStyle;
              }
            }

            // Description row
            Group {
              Anchor: (Height: 32);
              LayoutMode: Left;

              Label {
                Text: "Desc:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 60);
              }
              Label #DescValue {
                Text: "(None)";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                FlexWeight: 1;
              }
              TextButton #DescEditBtn {
                Text: "Edit";
                Anchor: (Height: 26, Width: 50);
                Style: $S.@ButtonStyle;
              }
            }
          }

          // --- Recruitment ---
          Label {
            Text: "Recruitment";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #RecruitmentBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            Group {
              Anchor: (Height: 32);
              LayoutMode: Left;

              Label {
                Text: "Status:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 60);
              }

              DropdownBox #RecruitmentDropdown {
                Style: $C.@DefaultDropdownBoxStyle;
                Anchor: (Height: 28, Width: 150);
              }
            }
          }

          // --- Home Location ---
          Label {
            Text: "Home Location";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #HomeBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            Group {
              Anchor: (Height: 28, Bottom: 4);
              LayoutMode: Left;

              Label {
                Text: "Location:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 60);
              }
              Label #HomeLocation {
                Text: "Not set";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                FlexWeight: 1;
              }
            }

            Group {
              Anchor: (Height: 32);
              LayoutMode: Left;

              TextButton #SetHomeBtn {
                Text: "Set Home";
                Anchor: (Height: 26, Width: 80);
                Style: $S.@ButtonStyle;
              }

              Label { Anchor: (Width: 4); }

              TextButton #TeleportHomeBtn {
                Text: "Teleport";
                Anchor: (Height: 26, Width: 70);
                Style: $S.@ButtonStyle;
              }

              Label { Anchor: (Width: 4); }

              TextButton #DeleteHomeBtn {
                Text: "Delete";
                Anchor: (Height: 26, Width: 60);
                Style: $S.@RedButtonStyle;
              }
            }
          }

          // --- Optional Features ---
          Label {
            Text: "Optional Features";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #ModulesBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            Group {
              Anchor: (Height: 32);
              LayoutMode: Left;

              Label {
                Text: "Configure optional modules.";
                Style: (FontSize: 10, TextColor: #666666, VerticalAlignment: Center);
                FlexWeight: 1;
              }

              TextButton #ModulesBtn {
                Text: "Modules";
                Anchor: (Height: 26, Width: 80);
                Style: $S.@ButtonStyle;
              }
            }
          }

          // --- Danger Zone (hidden by default, shown for leaders) ---
          Group #DangerZone {
            Visible: false;
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            Label {
              Text: "Danger Zone";
              Style: (FontSize: 11, TextColor: #FF5555, RenderBold: true);
              Anchor: (Height: 18, Bottom: 4);
            }
            Group {
              Anchor: (Height: 1, Bottom: 8);
              Background: (Color: #553344);
            }

            Group {
              Background: (Color: #2a1a1a);
              Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
              LayoutMode: Top;

              Label {
                Text: "This action is irreversible.";
                Style: (FontSize: 10, TextColor: #AA5555);
                Anchor: (Height: 18, Bottom: 4);
              }

              TextButton #DisbandBtn {
                Text: "Disband Faction";
                Anchor: (Height: 28, Width: 140);
                Style: $S.@FlatRedButtonStyle;
              }
            }
          }
        }

        // Vertical divider 1
        Group {
          Anchor: (Width: 1);
          Background: (Color: #334455);
        }

        // === MIDDLE COLUMN - Territory Permissions ===
        Group #MiddleColumn {
          Anchor: (Width: 370);
          LayoutMode: Top;
          Padding: (Left: 8, Right: 8, Top: 0, Bottom: 0);

          // Lock hint
          Group {
            Anchor: (Height: 22, Bottom: 6);
            Background: (Color: #1a1a2a);
            Padding: (Left: 8, Right: 8, Top: 0, Bottom: 0);
            LayoutMode: Left;

            Label {
              Text: "Some options may be locked by the server and won't accept changes.";
              Style: (FontSize: 9, TextColor: #555577, VerticalAlignment: Center);
              FlexWeight: 1;
            }
          }

          // ---- BUILDING PERMISSIONS ----
          Label {
            Text: "Building Permissions";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #BuildingBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 10, Right: 10, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 12);

            // Header row
            Group {
              LayoutMode: Left;
              Anchor: (Height: 20, Bottom: 2);

              Label { Anchor: (Width: 80); }
              Label {
                Text: "Break";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 55);
              }
              Label {
                Text: "Place";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 55);
              }
            }

            // Outsiders
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28, Bottom: 1);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Outsiders";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                Anchor: (Width: 74);
              }
              $C.@CheckBoxWithLabel #OutsiderBreakToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 22, Width: 55);
              }
              $C.@CheckBoxWithLabel #OutsiderPlaceToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 22, Width: 55);
              }
            }

            // Allies
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28, Bottom: 1);
              Background: (Color: #111a28);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Allies";
                Style: (FontSize: 11, TextColor: #55FF55, VerticalAlignment: Center);
                Anchor: (Width: 74);
              }
              $C.@CheckBoxWithLabel #AllyBreakToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 22, Width: 55);
              }
              $C.@CheckBoxWithLabel #AllyPlaceToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 22, Width: 55);
              }
            }

            // Members
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28, Bottom: 1);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Members";
                Style: (FontSize: 11, TextColor: #00FFFF, VerticalAlignment: Center);
                Anchor: (Width: 74);
              }
              $C.@CheckBoxWithLabel #MemberBreakToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 22, Width: 55);
              }
              $C.@CheckBoxWithLabel #MemberPlaceToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 22, Width: 55);
              }
            }

            // Officers
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28);
              Background: (Color: #111a28);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Officers";
                Style: (FontSize: 11, TextColor: #FFD700, VerticalAlignment: Center);
                Anchor: (Width: 74);
              }
              $C.@CheckBoxWithLabel #OfficerBreakToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 22, Width: 55);
              }
              $C.@CheckBoxWithLabel #OfficerPlaceToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 22, Width: 55);
              }
            }
          }

          // ---- INTERACTION PERMISSIONS ----
          Group {
            LayoutMode: Left;
            Anchor: (Height: 18, Bottom: 2);

            Label {
              Text: "Interaction Permissions";
              Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            }
          }
          Label {
            Text: "(children disabled when All is off)";
            Style: (FontSize: 8, TextColor: #666666);
            Anchor: (Height: 12, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #InteractionBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 10, Right: 10, Top: 8, Bottom: 8);
            LayoutMode: Top;

            // Header row
            Group {
              LayoutMode: Left;
              Anchor: (Height: 20, Bottom: 2);

              Label { Anchor: (Width: 70); }
              Label {
                Text: "All";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 44);
              }
              Label {
                Text: "Door";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 44);
              }
              Label {
                Text: "Chest";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 44);
              }
              Label {
                Text: "Bench";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 44);
              }
              Label {
                Text: "Proc";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 44);
              }
              Label {
                Text: "Seat";
                Style: (FontSize: 10, TextColor: #888888, RenderBold: true);
                Anchor: (Width: 44);
              }
            }

            // Outsiders
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28, Bottom: 1);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Outsiders";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                Anchor: (Width: 64);
              }
              $C.@CheckBoxWithLabel #OutsiderInteractToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OutsiderDoorToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OutsiderContainerToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OutsiderBenchToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OutsiderProcessingToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OutsiderSeatToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
            }

            // Allies
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28, Bottom: 1);
              Background: (Color: #111a28);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Allies";
                Style: (FontSize: 11, TextColor: #55FF55, VerticalAlignment: Center);
                Anchor: (Width: 64);
              }
              $C.@CheckBoxWithLabel #AllyInteractToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #AllyDoorToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #AllyContainerToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #AllyBenchToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #AllyProcessingToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #AllySeatToggle { @Text = ""; @Checked = false; Anchor: (Height: 22, Width: 44); }
            }

            // Members
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28, Bottom: 1);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Members";
                Style: (FontSize: 11, TextColor: #00FFFF, VerticalAlignment: Center);
                Anchor: (Width: 64);
              }
              $C.@CheckBoxWithLabel #MemberInteractToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #MemberDoorToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #MemberContainerToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #MemberBenchToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #MemberProcessingToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #MemberSeatToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
            }

            // Officers
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28);
              Background: (Color: #111a28);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Officers";
                Style: (FontSize: 11, TextColor: #FFD700, VerticalAlignment: Center);
                Anchor: (Width: 64);
              }
              $C.@CheckBoxWithLabel #OfficerInteractToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OfficerDoorToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OfficerContainerToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OfficerBenchToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OfficerProcessingToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
              $C.@CheckBoxWithLabel #OfficerSeatToggle { @Text = ""; @Checked = true; Anchor: (Height: 22, Width: 44); }
            }
          }
        }

        // Vertical divider 2
        Group {
          Anchor: (Width: 1);
          Background: (Color: #334455);
        }

        // === RIGHT COLUMN ===
        Group #RightColumn {
          FlexWeight: 1;
          LayoutMode: Top;
          Padding: (Left: 8, Right: 0, Top: 0, Bottom: 0);

          // --- Appearance ---
          Label {
            Text: "Appearance";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #ColorBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            // Color row - preview and hex value
            Group {
              Anchor: (Height: 28, Bottom: 4);
              LayoutMode: Left;

              Label {
                Text: "Color:";
                Style: (FontSize: 12, TextColor: #888888, VerticalAlignment: Center);
                Anchor: (Width: 42);
              }

              Group #ColorPreview {
                Anchor: (Width: 22, Height: 22);
                Background: (Color: #00FFFF);
              }

              Label { Anchor: (Width: 6); }

              Label #ColorValue {
                Text: "#00FFFF";
                Style: (FontSize: 12, TextColor: #AAAAAA, VerticalAlignment: Center);
                FlexWeight: 1;
              }
            }

            // Inline ColorPicker
            Group {
              Anchor: (Height: 200);
              Padding: (Left: 40, Right: 0, Top: 0, Bottom: 0);

              ColorPicker #FactionColorPicker {
                DisplayTextField: true;
                Style: $C.@DefaultColorPickerStyle;
              }
            }
          }

          // --- Mob Spawning ---
          Label {
            Text: "Mob Spawning";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 2);
          }
          Label {
            Text: "(children disabled when master is off)";
            Style: (FontSize: 8, TextColor: #666666);
            Anchor: (Height: 12, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #MobSpawningBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            // Master toggle
            Group {
              LayoutMode: Left;
              Anchor: (Height: 28, Bottom: 1);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Mob Spawning";
                Style: (FontSize: 11, TextColor: #CCCCCC, VerticalAlignment: Center);
                Anchor: (Width: 120);
              }
              Label { FlexWeight: 1; }
              $C.@CheckBoxWithLabel #MobSpawningToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 22, Width: 44);
              }
            }

            // Hostile (child)
            Group {
              LayoutMode: Left;
              Anchor: (Height: 26, Bottom: 1);
              Background: (Color: #0a1018);
              Padding: (Left: 18, Right: 6);

              Label {
                Text: "Hostile Mobs";
                Style: (FontSize: 10, TextColor: #FF5555, VerticalAlignment: Center);
                Anchor: (Width: 108);
              }
              Label { FlexWeight: 1; }
              $C.@CheckBoxWithLabel #HostileMobToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 20, Width: 44);
              }
            }

            // Passive (child)
            Group {
              LayoutMode: Left;
              Anchor: (Height: 26, Bottom: 1);
              Background: (Color: #0a1018);
              Padding: (Left: 18, Right: 6);

              Label {
                Text: "Passive Mobs";
                Style: (FontSize: 10, TextColor: #55FF55, VerticalAlignment: Center);
                Anchor: (Width: 108);
              }
              Label { FlexWeight: 1; }
              $C.@CheckBoxWithLabel #PassiveMobToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 20, Width: 44);
              }
            }

            // Neutral (child)
            Group {
              LayoutMode: Left;
              Anchor: (Height: 26);
              Background: (Color: #0a1018);
              Padding: (Left: 18, Right: 6);

              Label {
                Text: "Neutral Mobs";
                Style: (FontSize: 10, TextColor: #FFFF55, VerticalAlignment: Center);
                Anchor: (Width: 108);
              }
              Label { FlexWeight: 1; }
              $C.@CheckBoxWithLabel #NeutralMobToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 20, Width: 44);
              }
            }
          }

          // --- Faction Settings ---
          Label {
            Text: "Faction Settings";
            Style: (FontSize: 11, TextColor: #888888, RenderBold: true);
            Anchor: (Height: 18, Bottom: 4);
          }
          Group {
            Anchor: (Height: 1, Bottom: 8);
            Background: (Color: #334455);
          }

          Group #FactionSettingsBox {
            Background: (Color: #1a2a3a);
            Padding: (Left: 12, Right: 12, Top: 8, Bottom: 8);
            LayoutMode: Top;
            Anchor: (Bottom: 8);

            // PvP row
            Group {
              LayoutMode: Left;
              Anchor: (Height: 30, Bottom: 2);
              Background: (Color: #0d1520);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "PvP in Territory";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                Anchor: (Width: 120);
              }
              $C.@CheckBoxWithLabel #PvPToggle {
                @Text = ""; @Checked = true;
                Anchor: (Height: 24, Width: 40);
              }
              Label #PvPStatus {
                Text: "Enabled";
                Style: (FontSize: 10, TextColor: #55FF55, VerticalAlignment: Center);
                FlexWeight: 1;
                Anchor: (Left: 4);
              }
            }

            // Officers can edit row (leader only, hidden for non-leaders)
            Group #OfficerSettingRow {
              LayoutMode: Left;
              Anchor: (Height: 30);
              Background: (Color: #111a28);
              Padding: (Left: 6, Right: 6);

              Label {
                Text: "Officers can edit";
                Style: (FontSize: 11, TextColor: #AAAAAA, VerticalAlignment: Center);
                Anchor: (Width: 120);
              }
              $C.@CheckBoxWithLabel #OfficersCanEditToggle {
                @Text = ""; @Checked = false;
                Anchor: (Height: 24, Width: 40);
              }
              Label {
                Text: "Leader only";
                Style: (FontSize: 9, TextColor: #FFD700, VerticalAlignment: Center);
                FlexWeight: 1;
                Anchor: (Left: 4);
              }
            }
          }
        }
      }
    }
  }
}

$C.@BackButton {}
