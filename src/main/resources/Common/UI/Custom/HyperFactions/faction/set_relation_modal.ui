// Set Relation Modal
// Searchable faction picker with pagination

$C = "../../Common.ui";
$S = "../shared/styles.ui";

$C.@PageOverlay {
  $C.@DecoratedContainer {
    Anchor: (Width: 500, Height: 480);

    #Title {
      Group {
        $C.@Title {
          @Text = "Set Relation";
        }
      }
    }

    #Content {
      LayoutMode: Top;
      Padding: (Left: 15, Right: 15, Top: 8, Bottom: 8);

      // Search row
      Group {
        Anchor: (Height: 38, Bottom: 8);
        LayoutMode: Left;

        $C.@TextField #SearchInput {
          FlexWeight: 1;
          Anchor: (Height: 32);
          Style: (
            FontSize: 14,
            TextColor: #ffffff(0.85)
          );
        }

        Label { Anchor: (Width: 8); }

        TextButton #SearchBtn {
          Text: "SEARCH";
          Anchor: (Height: 30, Width: 80);
          Style: $S.@SmallCyanButtonStyle;
        }
      }

      // Divider
      Group {
        Anchor: (Height: 1, Bottom: 6);
        Background: (Color: #334455);
      }

      // Results container (for faction cards)
      Group #ResultsList {
        LayoutMode: Top;
        Anchor: (Height: 250);
      }

      // Empty state (overlaps with results area conceptually)
      Group #EmptyState {
        Anchor: (Height: 40);

        Label #EmptyText {
          Text: "Search for a faction to set relation";
          Style: (FontSize: 12, TextColor: #666666, HorizontalAlignment: Center, VerticalAlignment: Center);
        }
      }

      // Divider
      Group {
        Anchor: (Height: 1, Top: 6, Bottom: 6);
        Background: (Color: #334455);
      }

      // Pagination and cancel row
      Group {
        Anchor: (Height: 36);
        LayoutMode: Left;

        TextButton #CancelBtn {
          Text: "CANCEL";
          Anchor: (Height: 30, Width: 100);
          Style: $S.@ButtonStyle;
        }

        Label { FlexWeight: 1; }

        // Pagination controls
        TextButton #PrevBtn {
          Text: "<";
          Anchor: (Height: 30, Width: 40);
          Style: $S.@SmallButtonStyle;
        }

        Label { Anchor: (Width: 5); }

        Label #PageInfo {
          Text: "1/1";
          Style: (FontSize: 12, TextColor: #888888, HorizontalAlignment: Center, VerticalAlignment: Center);
          Anchor: (Width: 50);
        }

        Label { Anchor: (Width: 5); }

        TextButton #NextBtn {
          Text: ">";
          Anchor: (Height: 30, Width: 40);
          Style: $S.@SmallButtonStyle;
        }
      }
    }
  }
}

// Native Hytale back button (bottom-left ESC)
$C.@BackButton {}
